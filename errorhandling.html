<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling</title>
    <style>
        body{
            background-color: #1a1a2e;
            font-family: 'Courier New', Courier, monospace;
            color: #e0e0e0;
        }
        .error-simulation{
            margin-top: 30vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: 2px solid black;
            width: 400px;
            height: 400px;
            margin-left: auto;
            margin-right: auto;
            background-color: #16213e;
            border: 2px solid #0f3460;
            border-radius: 15px;
            color: red;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            transition: all 0.3s ease;
        }
        .error-simulation button{
            width:200px ;
            padding: 12px 20px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: 0.4s ease
        
        }
        .error-simulation button:hover{
            background-color: #6846a1;
        }
        #output{
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="error-simulation">
        <p>ERROR SIMULATION: Choose Your Poison</p>
        <button onclick="loadData(200)">Test 200 (Success)</button>
    <button onclick="loadData(404)">Test 404 (Not Found)</button>
    <button onclick="loadData(500)">Test 500 (Server Error)</button>
    <button onclick="loadData(403)">Test 403 (Forbidden)</button>
    <button onclick="loadData('timeout')">Test Timeout</button>
    </div>
    

<p id="output"></p>
<script>
function loadData(code) {
    document.getElementById("output").innerHTML = "Requesting...";

    var xhttp = new XMLHttpRequest();

    
    xhttp.timeout = 3000;  

    
    xhttp.onreadystatechange = function () {
        if (this.readyState == 4) {
            let msg = "";

            switch (this.status) {
                case 200:
                    msg = "200 OK Request successful<br>Response: " + this.responseText;
                    break;
                case 404:
                    msg = "404 Not Found File or endpoint missing";
                    break;
                case 500:
                    msg = "500 Internal Server Error Server crashed or has bug";
                    break;
                case 403:
                    msg = "403 Forbidden Access denied";
                    break;
                case 0:
                    msg = "0 Error Network issue / CORS / Request blocked";
                    break;
                default:
                    msg = "Unknown Error Status: " + this.status;
            }

            document.getElementById("output").innerHTML = msg;
        }
    };

   
    xhttp.ontimeout = function () {
        document.getElementById("output").innerHTML = 
            "⛔ Timeout Error Server took too long to respond!";
    };
    xhttp.onerror = function () {
        document.getElementById("output").innerHTML = 
            "⛔ Network Error Request failed!";
    };

  
    let url = "";

    if (code === 200) url = "sample.txt";  
    else if (code === 404) url = "wrongfile.txt";  
    else if (code === 500) url = "https://httpstat.us/500";  
    else if (code === 403) url = "https://httpstat.us/403";  
    else if (code === "timeout") url = "https://httpstat.us/200?sleep=5000";  

    xhttp.open("GET", url, true);
    xhttp.send();
}
</script>
</body>
</html>